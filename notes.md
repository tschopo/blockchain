## write the contract
```
`pragma solidity >=0.4.22 <0.6.0;

contract Mortal {
    /* Define variable owner of the type address */
    address owner;

    /* This constructor is executed at initialization and sets the owner of the contract */
    constructor() public { owner = msg.sender; }

    /* Function to recover the funds on the contract */
    function kill() public { if (msg.sender == owner) selfdestruct(msg.sender); }
}

contract Greeter is Mortal {
    /* Define variable greeting of the type string */
    string greeting;

    /* This runs when the contract is executed */
    constructor(string memory _greeting) public {
        greeting = _greeting;
    }

    /* Main function */
    function greet() public view returns (string memory) {
        return greeting;
    }
}
`
```


## compile the contract to js with [remix](https://remix.ethereum.org/)
```
`var _greeting = "hi";
var greeterContract = web3.eth.contract([{"constant":false,"inputs":[],"name":"kill","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"greet","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"inputs":[{"name":"_greeting","type":"string"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"}]);
var greeter = greeterContract.new(
   _greeting,
   {
     from: web3.eth.accounts[0], 
     data: '0x608060405234801561001057600080fd5b506040516103c73803806103c78339810180604052602081101561003357600080fd5b81019080805164010000000081111561004b57600080fd5b8281019050602081018481111561006157600080fd5b815185600182028301116401000000008211171561007e57600080fd5b5050929190505050336000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555080600190805190602001906100dc9291906100e3565b5050610188565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061012457805160ff1916838001178555610152565b82800160010185558215610152579182015b82811115610151578251825591602001919060010190610136565b5b50905061015f9190610163565b5090565b61018591905b80821115610181576000816000905550600101610169565b5090565b90565b610230806101976000396000f3fe608060405260043610610046576000357c01000000000000000000000000000000000000000000000000000000009004806341c0e1b51461004b578063cfae321714610062575b600080fd5b34801561005757600080fd5b506100606100f2565b005b34801561006e57600080fd5b50610077610162565b6040518080602001828103825283818151815260200191508051906020019080838360005b838110156100b757808201518184015260208101905061009c565b50505050905090810190601f1680156100e45780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161415610160573373ffffffffffffffffffffffffffffffffffffffff16ff5b565b606060018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156101fa5780601f106101cf576101008083540402835291602001916101fa565b820191906000526020600020905b8154815290600101906020018083116101dd57829003601f168201915b505050505090509056fea165627a7a7230582069f892ae333548c660a840c3e1bb4ccb2b9ca62d99a75583ec9a5ba377147e4b0029', 
     gas: '4700000'
   }, function (e, contract){
    console.log(e, contract);
    if (typeof contract.address !== 'undefined') {
         console.log('Contract mined! address: ' + contract.address + ' transactionHash: ' + contract.transactionHash);
    }
 })
`
```


## run the console
```
`geth --port 30313 \
    --datadir="ethdata" \
    --networkid 1234 \
    --nodiscover \
    --bootnodes "enode://a644b476e2ae654beca7769ccb33737558a476b360ed312cb0c99abf9972fb218900e0f0d77fe6a5ce7b96ac73234e680c563febbab28d0c3cce8158e190f33c@160.45.38.66:30301?discport=0" \
        --rpc \
        --rpcport "8013" \
        --rpcaddr 160.45.38.66 \
        --rpccorsdomain "*" \
        --rpcapi "eth,net,web3,miner,debug,personal,rpc" \
	--verbosity 5 console 2>eth.log 
`
```


## unlock the account:
`personal.unlockAccount(web3.eth.accounts[0], "account5")`


## copy the compiled js code to the console

## wait until cotract mined
```
`
Contract mined! address: 0xe01faa503a536d81d8f1969d5722cd435bc085a5 transactionHash: 0x4cf0e87ab2ae9e9dde83408939f7e13e8a1f5aeeabf26c9e05e5233dfb544c51

`
```


## get address of contract
`eth.getCode(greeter.address)`

```
`"0x608060405260043610610046576000357c01000000000000000000000000000000000000000000000000000000009004806341c0e1b51461004b578063cfae321714610062575b600080fd5b34801561005757600080fd5b506100606100f2565b005b34801561006e57600080fd5b50610077610162565b6040518080602001828103825283818151815260200191508051906020019080838360005b838110156100b757808201518184015260208101905061009c565b50505050905090810190601f1680156100e45780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161415610160573373ffffffffffffffffffffffffffffffffffffffff16ff5b565b606060018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156101fa5780601f106101cf576101008083540402835291602001916101fa565b820191906000526020600020905b8154815290600101906020018083116101dd57829003601f168201915b505050505090509056fea165627a7a7230582069f892ae333548c660a840c3e1bb4ccb2b9ca62d99a75583ec9a5ba377147e4b0029"
`
```


## get the block and more info about contract
`web3.eth.getTransactionReceipt("0x4cf0e87ab2ae9e9dde83408939f7e13e8a1f5aeeabf26c9e05e5233dfb544c51")`

```
`{
  blockHash: "0x2fa534aa49c60f775482d618fd0e4dd65b78729befd87fb907b9ee256807382c",
  blockNumber: 58719,
  contractAddress: "0xe01faa503a536d81d8f1969d5722cd435bc085a5",
  cumulativeGasUsed: 267316,
  from: "0xd17f08773b79984b814e0922ed74048195ebfeda",
  gasUsed: 267316,
  logs: [],
  logsBloom: "0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
  status: "0x1",
  to: null,
  transactionHash: "0x4cf0e87ab2ae9e9dde83408939f7e13e8a1f5aeeabf26c9e05e5233dfb544c51",
  transactionIndex: 0
}
`
```


## get the contract object from its address:

```
var greeter = eth.contract([{constant:false,inputs:[],name:'kill',outputs:[],type:'function'},{constant:true,inputs:[],name:'greet',outputs:[{name:'',type:'string'}],type:'function'},{inputs:[{name:'_greeting',type:'string'}],type:'constructor'}]).at('0xe01faa503a536d81d8f1969d5722cd435bc085a5');
```


## use the contract:
`greeter.greet();`
`"hi"`



